# [Leetcode008.字符串转整数Atoi](https://leetcode-cn.com/problems/string-to-integer-atoi/)

- 方法分析

  此题和leetcode007的方法有类似之处。首先定义一个变量`result`用来存储转换的整型数字结果，`flag`变量用来保存字符串的符号位，默认为正数，flag=1，否则flag=-1。

  - 首先判断字符串`str`的起始字符是否为空字符，并跳过非空字符前的所有空字符
- 找到第一个非空字符`ch`
    - 若ch不存在，说明字符串是空串或者所有字符均为空字符，则直接返回0
  - 若ch为‘-’，后续的字符数字为负数，令flag = -1
    - 若ch为数字字符，则将字符转换成数字，并和接下来的数字字符合并。合并方法为：$result=result \times 10 + ch\_num$
  - 若ch不等于‘+’，则字符串的格式有问题，直接返回0
  
  在合并数字的时候，需要注意整型数字的溢出问题。数学上判断整数是否溢出的方法为：

  - 如果$result > \frac{INT\_MAX}{10}$，则一定会溢出
- 如果$result == \frac{INT\_MAX}{10} \&\& ch\_num > 7$或者$result == \frac{INT\_MAX}{10} \&\& ch\_num <-8$，整数也会溢出
  
  **注意：**整数为32位的，即数值范围为$-2^{31} -2^{31}-1$，若超出此范围则返回相应的最大值`INT_MAX`和最小值`INT_MIN`。

- 复杂度分析

  - 时间复杂度

    时间复杂度为$O(n)$。

  - 空间复杂度

    空间复杂度为$O(1)$。
